{"version":3,"sources":["scripts.js"],"names":["mr","$","window","document","documentReady","context","components","concat","documentReadyDeferred","component","forEach","windowLoad","windowLoadDeferred","jQuery","load","setContext","contextSelector","find","selector","util","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","today","Date","getURLParameter","decodeURIComponent","capitaliseFirstLetter","name","string","toUpperCase","slice","exec","location","search","undefined","replace","text","slugify","spacesOnly","$parentElement","items","order","order2","sortChildrenByText","parentElement","reverse","a","children","get","keyA","sort","b","keyB","empty","idleSrc","i","append","itm","elem","attr","elems","is","each","dataSrc","currentSrc","activateIdleSrc","index","pauseVideo","parsePixels","video","windowHeight","height","value","pause","test","parseInt","push","listeners","scroll","y","x","hasClass","assisted","event","evt","l","length","update","classModifiers","rules","ruleComponents","scrollPoint","element","ruleObject","toggleClass","scrollRules","currentRule","currentScroll","classList","add","remove","parseScrollRules","console","log","li","addClass","on","accordion","this","closest","wasActive","removeClass","minHeight","outerHeight","accordions","imgSrc","css","backgrounds","bar","barHeight","cookies","bars","setItem","sValue","constructor","sExpires","sKey","cookie","RegExp","encodeURIComponent","vEnd","sPath","sDomain","bSecure","Number","Infinity","hasItem","String","toUTCString","keys","aKeys","nLen","nIdx","split","fallback","date","elapsed","countdown","strftime","dropdown","content","container","containerOffset","offset","left","width","outerWidth","winWidth","masterOffset","offsetRight","leftCorrect","dropdowns","target","siblings","done","repositionDropdowns","slider","childnum","sliderInitializer","timing","arrows","autoplay","paging","draggable","cellAlign","cellSelector","autoPlay","flickity","wrapAround","pageDots","prevNextButtons","imagesLoaded","progress","sliders","input","prop","forms","radio","checkbox","e","preventDefault","off","submit","formError","formSuccess","submitButton","successText","thisForm","body","successRedirect","originalError","formAction","indexOf","error","errorText","validateFields","fadeOut","dataType","ajax","url","crossDomain","success","data","method","contentType","result","Status","resetForm","fadeIn","stop","showFormSuccess","html","showFormError","err","message","type","serialize","href","response","errorObject","errorHTTP","form","parent","not","firstError","scrollTop","val","setTimeout","wait","top","fadeOutSuccess","fadeOutError","reset","tempPair","count","passes","granimParent","colours","pairs","granimID","opacity","granimElement","isPausedWhenNotInView","states","shift","Granim","direction","default-state","gradients","accessToken","token","client","accessData","fetchNumber","feed","query","feedID","clientID","spectragram","max","maps","initAPI","apiKey","script","init","mapInstance","querySelector","latlong","longitude","geocoder","address","markerImage","markerTitle","isDraggable","className","marker","appendChild","styles","google","map","mapJSON","parse","featureType","stylers","saturation","lightness","visibility","elementType","hue","results","status","GeocoderStatus","latitude","substr","mapElement","mapOptions","setCenter","geometry","Geocoder","markerGeoCoder","position","icon","title","geocode","OK","optimised","mr_variant","scaledSize","Size","Marker","lat","lng","center","Map","filterAllText","filterString","filtersList","masonry","masonryContainer","filters","masonryItem","filtersArray","tag","itemSelector","slug","masonryFilter","isotope","columnWidth","insertAfter","mainContainer","modals","allModalsContainer","filterValue","filter","modal","modalContent","modalHeight","allPageModals","modalInstance","trigger","targetModal","modalWidth","uniqueID","modalTrigger","detach","autoplayVideo","delay","showModal","millisecondsDelay","exitSelector","closeActiveModal","prepend","modalID","originalEvent","pop","play","stopPropagation","deltaY","newsletters","$input","label","id","removeAttr","before","first","button","unwrap","wrap","prepareAjaxAction","newButton","action","insertBefore","notification","notifications","showNotification","closeButton","notificationID","$window","closeNotification","parallaxHeroImage","navHeight","parallaxHero","focus","$notification","navigator","userAgent","vendor","opera","windowWidth","innerLinks","link","smoothScroll","speed","easing","smoothscroll","tabContent","tabs","activeIndex","clickedTab","tabContainer","charAt","toggleElement","dataArray","candidate","after","currentTab","tabContentClone","clone","typed","strings","showCursor","TweetConfig","handleTweets","n","loop","videoCover","tweets","iframe","domId","maxTweets","enableLinks","showUser","vidURL","showTime","startAt","player","profile","screenName","twitterFetcher","fetch","twitter","YTPlayer","playIcon"],"mappings":"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","file":"scripts.js","sourcesContent":["\nvar mr = (function ($, window, document){\n    \"use strict\";\n\n    var mr         = {},\n        components = {documentReady: [],documentReadyDeferred: [], windowLoad: [], windowLoadDeferred: []};\n\n\n    $(document).ready(documentReady);\n    $(window).load(windowLoad);\n\n    function documentReady(context){\n        \n        context = typeof context === typeof undefined ? $ : context;\n        components.documentReady.concat(components.documentReadyDeferred).forEach(function(component){\n            component(context);\n        });\n    }\n\n    function windowLoad(context){\n        \n        context = typeof context === \"object\" ? $ : context;\n        components.windowLoad.concat(components.windowLoadDeferred).forEach(function(component){\n           component(context);\n        });\n    }\n\n    mr.setContext = function (contextSelector){\n        var context = $;\n        if(typeof contextSelector !== typeof undefined){\n            return function(selector){\n                return $(contextSelector).find(selector);\n            };\n        }\n        return context;\n    };\n\n    mr.components    = components;\n    mr.documentReady = documentReady;\n    mr.windowLoad    = windowLoad;\n\n    return mr;\n}(jQuery, window, document));\n\n\n//////////////// Utility Functions\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    mr.util = {};\n\n    mr.util.requestAnimationFrame    = window.requestAnimationFrame || \n                                       window.mozRequestAnimationFrame || \n                                       window.webkitRequestAnimationFrame ||\n                                       window.msRequestAnimationFrame;\n\n    mr.util.documentReady = function($){\n        var today = new Date();\n        var year = today.getFullYear();\n        $('.update-year').text(year);\n    };\n\n    mr.util.getURLParameter = function(name) {\n        return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [undefined, \"\"])[1].replace(/\\+/g, '%20')) || null;\n    };\n\n\n    mr.util.capitaliseFirstLetter = function(string) {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    };\n\n    mr.util.slugify = function(text, spacesOnly){\n        if(typeof spacesOnly !== typeof undefined){\n            return text.replace(/ +/g, '');\n        }else{\n            return text\n                .toLowerCase()\n                .replace(/[^\\w ]+/g, '')\n                .replace(/ +/g, '-');\n        }\n    };\n\n    mr.util.sortChildrenByText = function(parentElement, reverse){\n        var $parentElement = $(parentElement);\n        var items          = $parentElement.children().get();\n        var order          = -1;\n        var order2         = 1;\n        if(typeof reverse !== typeof undefined){order = 1; order2 = -1;}\n\n        items.sort(function(a,b){\n          var keyA = $(a).text();\n          var keyB = $(b).text();\n\n          if (keyA < keyB) return order;\n          if (keyA > keyB) return order2;\n          return 0;\n        });\n        \n        // Append back into place\n        $parentElement.empty();\n        $(items).each(function(i, itm){\n          $parentElement.append(itm);\n        });\n    };\n    \n    // Set data-src attribute of element from src to be restored later\n    mr.util.idleSrc = function(context, selector){\n        \n            selector  = (typeof selector !== typeof undefined) ? selector : '';\n            var elems = context.is(selector+'[src]') ? context : context.find(selector+'[src]');\n\n        elems.each(function(index, elem){\n            elem           = $(elem);\n            var currentSrc = elem.attr('src'),\n                dataSrc    = elem.attr('data-src');\n\n            // If there is no data-src, save current source to it\n            if(typeof dataSrc === typeof undefined){\n                elem.attr('data-src', currentSrc);\n            }\n\n            // Clear the src attribute\n            elem.attr('src', '');    \n            \n        });\n    };\n\n    // Set src attribute of element from its data-src where it was temporarily stored earlier\n    mr.util.activateIdleSrc = function(context, selector){\n        \n        selector     = (typeof selector !== typeof undefined) ? selector : '';\n        var elems    = context.is(selector+'[src]') ? context : context.find(selector+'[src]');\n\n        elems.each(function(index, elem){\n            elem = $(elem);\n            var dataSrc    = elem.attr('data-src');\n\n            // If there is no data-src, save current source to it\n            if(typeof dataSrc !== typeof undefined){\n                elem.attr('src', dataSrc);\n            }\n        });\n    };\n\n    mr.util.pauseVideo = function(context){\n        var elems = context.is('video') ? context : context.find('video');\n\n        elems.each(function(index, video){\n            var playingVideo = $(video).get(0);\n            playingVideo.pause();\n        });\n    };\n\n    // Take a text value in either px (eg. 150px) or vh (eg. 65vh) and return a number in pixels.\n    mr.util.parsePixels = function(text){\n        var windowHeight = $(window).height(), value;\n        \n        // Text text against regular expression for px value.\n        if(/^[1-9]{1}[0-9]*[p][x]$/.test(text)){\n            return parseInt(text.replace('px', ''),10);\n        }\n        // Otherwise it is vh value.\n        else if(/^[1-9]{1}[0-9]*[v][h]$/.test(text)){\n            value = parseInt(text.replace('vh', ''),10);\n            // Return conversion to percentage of window height.\n            return windowHeight * (value/100);\n        }else{\n            // If it is not proper text, return -1 to indicate bad value.\n            return -1;\n        }\n    };\n\n    mr.components.documentReady.push(mr.util.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Scroll Functions\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    mr.scroll           = {};\n    mr.scroll.listeners = [];\n    mr.scroll.y         = 0;\n    mr.scroll.x         = 0;\n\n     var documentReady = function($){\n        \n        // Check if scroll-assist is on\n        if($('body').hasClass('scroll-assist')){\n            mr.scroll.assisted = true;\n        }\n\n        //////////////// Capture Scroll Event and fire scroll function\n        \n        addEventListener('scroll', function(evt) {        \n                //if(!mr.scroll.assisted){\n                    window.mr.scroll.y = window.pageYOffset;\n                //}\n                window.mr.scroll.update(evt);\n        }, false);\n        \n    };\n\n    mr.scroll.update = function(event){\n        // Loop through all mr scroll listeners\n        for (var i = 0, l = mr.scroll.listeners.length; i < l; i++) {\n           mr.scroll.listeners[i](event);\n        }\n    };\n\n    mr.scroll.documentReady = documentReady;\n\n    mr.components.documentReady.push(documentReady);\n\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Scroll Class Modifier\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    mr.scroll.classModifiers = {};\n    // Globally accessible list of elements/rules\n    mr.scroll.classModifiers.rules = [];\n\n    mr.scroll.classModifiers.parseScrollRules = function(element){\n        var text  = element.attr('data-scroll-class'),\n            rules = text.split(\";\");\n\n        rules.forEach(function(rule){\n            var ruleComponents, scrollPoint, ruleObject = {};\n            ruleComponents = rule.replace(/\\s/g, \"\").split(':');\n            if(ruleComponents.length === 2){\n                scrollPoint = mr.util.parsePixels(ruleComponents[0]);\n                if(scrollPoint > -1){\n                    ruleObject.scrollPoint = scrollPoint;\n                    if(ruleComponents[1].length){\n                        var toggleClass = ruleComponents[1];\n                        ruleObject.toggleClass = toggleClass;\n                        // Set variable in object to indicate that element already has class applied\n                        ruleObject.hasClass = element.hasClass(toggleClass);\n                        ruleObject.element = element.get(0);\n                        mr.scroll.classModifiers.rules.push(ruleObject);\n                    }else{\n                        // Error: toggleClass component does not exist.\n                        //console.log('Error - toggle class not found.');\n                        return false;\n                    }\n                }else{\n                    // Error: scrollpoint component was malformed\n                    //console.log('Error - Scrollpoint not found.');\n                    return false;\n                }\n            }   \n        });\n        \n        if(mr.scroll.classModifiers.rules.length){\n            return true;\n        }else{\n            return false;\n        }\n    };\n\n    mr.scroll.classModifiers.update = function(event){\n        var currentScroll = mr.scroll.y,\n            scrollRules   = mr.scroll.classModifiers.rules,\n            l             = scrollRules.length,\n            currentRule;\n        \n        // Given the current scrollPoint, check for necessary changes \n        while(l--) {\n            \n            currentRule = scrollRules[l];\n            \n            if(currentScroll > currentRule.scrollPoint && !currentRule.hasClass){\n                // Set local copy and glogal copy at the same time;\n                currentRule.element.classList.add(currentRule.toggleClass);\n                currentRule.hasClass = mr.scroll.classModifiers.rules[l].hasClass = true;\n            }\n            if(currentScroll < currentRule.scrollPoint && currentRule.hasClass){\n                // Set local copy and glogal copy at the same time;\n                currentRule.element.classList.remove(currentRule.toggleClass);\n                currentRule.hasClass = mr.scroll.classModifiers.rules[l].hasClass = false;\n            }\n        }\n    };\n\n    var documentReady = function($){\n        // Collect info on all elements that require class modification at load time\n        // Each element has data-scroll-class with a formatted value to represent class to add/remove at a particular scroll point.\n        $('[data-scroll-class]').each(function(){\n            var element  = $(this);\n                \n            // Test the rules to be added to an array of rules.\n            if(!mr.scroll.classModifiers.parseScrollRules(element)){\n                console.log('Error parsing scroll rules on: '+element);\n            }\n        });\n        \n        // If there are valid scroll rules add classModifiers update function to the scroll event processing queue.\n        if(mr.scroll.classModifiers.rules.length){\n            mr.scroll.listeners.push(mr.scroll.classModifiers.update);\n        }\n    };\n\n    mr.components.documentReady.push(documentReady);\n    mr.scroll.classModifiers.documentReady = documentReady;    \n\n    \n\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Accordions\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n        $('.accordion__title').on('click', function(){\n            var accordion = $(this).closest('.accordion');\n            var li = $(this).closest('li');\n            if(li.hasClass('active')){\n                li.removeClass('active');      \n            }else{\n                if(accordion.hasClass('accordion--oneopen')){\n                    var wasActive = accordion.find('li.active');\n                    wasActive.removeClass('active');\n                    li.addClass('active');\n                }else{\n                    li.addClass('active');\n                }\n            }\n        });\n\n        $('.accordion').each(function(){\n            var accordion = $(this);\n            var minHeight = accordion.outerHeight(true);\n            accordion.css('min-height',minHeight);\n        });\n    };\n\n    mr.accordions = {\n        documentReady : documentReady        \n    };\n\n    mr.components.documentReady.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Backgrounds\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n        \n        //////////////// Append .background-image-holder <img>'s as CSS backgrounds\n\n\t    $('.background-image-holder').each(function() {\n\t        var imgSrc = $(this).children('img').attr('src');\n\t        $(this).css('background', 'url(\"' + imgSrc + '\")').css('background-position', 'initial').css('opacity','1');\n\t    });\n    };\n\n    mr.backgrounds = {\n        documentReady : documentReady        \n    };\n\n    mr.components.documentReady.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Bars\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n        $('.nav-container .bar[data-scroll-class*=\"fixed\"]:not(.bar--absolute)').each(function(){\n            var bar = $(this),\n                barHeight = bar.outerHeight(true);\n            bar.closest('.nav-container').css('min-height',barHeight);\n        });\n    };\n\n    mr.bars = {\n        documentReady : documentReady        \n    };\n\n    mr.components.documentReady.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Cookies\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.cookies = {\n\n        getItem: function (sKey) {\n            if (!sKey) { return null; }\n            return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n        },\n        setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n            if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n                var sExpires = \"\";\n                if (vEnd) {\n                  switch (vEnd.constructor) {\n                    case Number:\n                      sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n                      break;\n                    case String:\n                      sExpires = \"; expires=\" + vEnd;\n                      break;\n                    case Date:\n                      sExpires = \"; expires=\" + vEnd.toUTCString();\n                      break;\n                }\n            }\n            document.cookie = encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue) + sExpires + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\") + (bSecure ? \"; secure\" : \"\");\n            return true;\n        },\n        removeItem: function (sKey, sPath, sDomain) {\n            if (!this.hasItem(sKey)) { return false; }\n            document.cookie = encodeURIComponent(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n            return true;\n        },\n        hasItem: function (sKey) {\n            if (!sKey) { return false; }\n            return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n        },\n        keys: function () {\n            var aKeys = document.cookie.replace(/((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g, \"\").split(/\\s*(?:\\=[^;]*)?;\\s*/);\n            for (var nLen = aKeys.length, nIdx = 0; nIdx < nLen; nIdx++) { aKeys[nIdx] = decodeURIComponent(aKeys[nIdx]); }\n            return aKeys;\n        }\n    };\n\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Countdown\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n\n        $('.countdown[data-date]').each(function(){\n            var element      = $(this),\n                date         = element.attr('data-date'),\n                fallback;\n\n            if(typeof element.attr('data-date-fallback') !== typeof undefined){\n                fallback = element.attr('data-date-fallback');\n            }\n\n            element.countdown(date, function(event) {\n                if(event.elapsed){\n                    element.text(fallback);\n                }else{\n                    element.text(\n                      event.strftime('%D days %H:%M:%S')\n                    );\n                }\n            });\n        });\n        \n    };\n\n    mr.countdown = {\n      documentReady : documentReady        \n    };\n\n    mr.components.documentReadyDeferred.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Dropdowns\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    mr.dropdowns = {};\r\n    mr.dropdowns.done = false;\r\n    \r\n    var documentReady = function($){\r\n        if(!mr.dropdowns.done){\r\n            jQuery(document).on('click','body:not(.dropdowns--hover) .dropdown:not(.dropdown--hover), body.dropdowns--hover .dropdown.dropdown--click',function(event){\r\n                var dropdown = jQuery(this);\r\n                if(jQuery(event.target).is('.dropdown--active > .dropdown__trigger')){\r\n                    dropdown.siblings().removeClass('dropdown--active').find('.dropdown').removeClass('dropdown--active');\r\n                    dropdown.toggleClass('dropdown--active');\r\n                }else{\r\n                    $('.dropdown--active').removeClass('dropdown--active');\r\n                    dropdown.addClass('dropdown--active');\r\n                }\r\n            });\r\n            jQuery(document).on('click touchstart', 'body', function(event){\r\n                if(!jQuery(event.target).is('[class*=\"dropdown\"], [class*=\"dropdown\"] *')){\r\n                    $('.dropdown--active').removeClass('dropdown--active');\r\n                }\r\n            });\r\n\r\n            // Append a container to the body for measuring purposes\r\n            jQuery('body').append('<div class=\"container containerMeasure\" style=\"opacity:0;pointer-events:none;\"></div>');\r\n\r\n            mr.dropdowns.done = true;\r\n        }\r\n\r\n         //////////////// Menu dropdown positioning\r\n\r\n        repositionDropdowns($);\r\n        \r\n        jQuery(window).resize(function(){\r\n            //repositionDropdowns($);\r\n        });\r\n\r\n    };\r\n\r\n    function repositionDropdowns($){\r\n        $('.dropdown__container').each(function(){\r\n            var container       = jQuery(this),\r\n                containerOffset = container.offset().left,\r\n                masterOffset    = jQuery('.containerMeasure').offset().left,\r\n                menuItem        = container.closest('.dropdown').offset().left,\r\n                content         = '';\r\n                \r\n                container.css('left',((-containerOffset)+(masterOffset)));\r\n\r\n                if(container.find('.dropdown__content:not([class*=\"-12\"])').length){\r\n                    content = container.find('.dropdown__content');\r\n                    content.css('left', ((menuItem)-(masterOffset)));\r\n                }\r\n                \r\n        });\r\n        $('.dropdown__content').each(function(){\r\n            var dropdown    = jQuery(this),\r\n                offset      = dropdown.offset().left,\r\n                width       = dropdown.outerWidth(true),\r\n                offsetRight = offset + width,\r\n                winWidth    = jQuery(window).outerWidth(true),\r\n                leftCorrect = jQuery('.containerMeasure').outerWidth() - width;\r\n\r\n            if(offsetRight > winWidth){\r\n                dropdown.css('left', leftCorrect);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    mr.dropdowns.documentReady = documentReady;\r\n    \r\n\r\n    mr.components.documentReady.push(documentReady);\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// FLickity\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n\n        $('.slider').each(function(index){\n            \n            var slider = $(this);\n            var sliderInitializer = slider.find('ul.slides');\n            sliderInitializer.find('>li').addClass('slide');\n            var childnum = sliderInitializer.find('li').length;\n            var arrows = false;\n            var paging = false;\n            var timing = 7000;\n            var autoplay = true;\n            var draggable = true;\n            if(slider.attr('data-arrows') === 'true'){\n                arrows = true;\n            }else{\n                arrows = false;\n            }\n            if(slider.attr('data-autoplay') === 'false'){\n                autoplay = false;\n            }else{\n                autoplay = true;\n            }\n            if(slider.attr('data-paging') === 'true' && sliderInitializer.find('li').length > 1){\n                paging = true;\n            }else{\n                paging = false;\n            }\n            if(slider.attr('data-timing')){\n                timing = slider.attr('data-timing')*1;\n            }\n            // Set data attribute to inidicate the number of children in the slider\n            slider.attr('data-children',childnum);\n\n            if(childnum < 2){\n                draggable = false;\n            }\n\n            $(sliderInitializer).flickity({\n                cellSelector: '.slide',\n                cellAlign: 'left',\n                wrapAround: true,\n                pageDots: paging,\n                prevNextButtons: arrows,\n                autoPlay: timing,\n                draggable: draggable,\n                imagesLoaded: true\n            });\n\n            $(sliderInitializer).on( 'scroll.flickity', function( event, progress ) {\n              if(slider.find('.is-selected').hasClass('controls--dark')){\n                slider.addClass('controls--dark');\n              }else{\n                slider.removeClass('controls--dark'); \n              }\n            });\n        });\n        \n    };\n\n    mr.sliders = {\n      documentReady : documentReady        \n    };\n\n    mr.components.documentReadyDeferred.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Forms\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.forms = {};\n\n    var documentReady = function($){\n        \n        //////////////// Checkbox Inputs\n\n        $('.input-checkbox').on('click', function() {\n            var checkbox = $(this);\n            checkbox.toggleClass('checked');\n            \n            var input = checkbox.find('input');\n            if (input.prop('checked') === false) {\n                input.prop('checked', true);\n            } else {\n                input.prop('checked', false);\n            }\n            return false;\n        });\n\n        //////////////// Radio Buttons\n\n        $('.input-radio').on('click', function() {\n            var radio = $(this);\n            radio.closest('form').find('.input-radio').removeClass('checked');\n            radio.addClass('checked').find('input').prop('checked', true);\n            return false;\n        });\n\n        //////////////// File Uploads\n\n        $('.input-file .btn').on('click',function(){\n            $(this).siblings('input').trigger('click');\n            return false;\n        });\n        \n        //////////////// Handle Form Submit\n\n        $('form.form-email, form[action*=\"list-manage.com\"], form[action*=\"createsend.com\"]').attr('novalidate', true).off('submit').on('submit', mr.forms.submit);\n\n        //////////////// Handle Form Submit\n        $(document).on('change, input, paste, keyup', '.attempted-submit .field-error', function(){\n            $(this).removeClass('field-error');\n        });\n\n    };\n\n    mr.forms.documentReady = documentReady;\n    \n    mr.forms.submit = function(e){\n        // return false so form submits through jQuery rather than reloading page.\n        if (e.preventDefault) e.preventDefault();\n        else e.returnValue = false;\n\n        var body          = $('body'),\n            thisForm      = $(e.target).closest('form'),\n            formAction    = typeof thisForm.attr('action') !== typeof undefined ? thisForm.attr('action') : \"\",\n            submitButton  = thisForm.find('button[type=\"submit\"], input[type=\"submit\"]'),\n            error         = 0,\n            originalError = thisForm.attr('original-error'),\n            successRedirect, formError, formSuccess, errorText, successText;\n\n        body.find('.form-error, .form-success').remove();\n        submitButton.attr('data-text', submitButton.text());\n        errorText = thisForm.attr('data-error') ? thisForm.attr('data-error') : \"Please fill all fields correctly\";\n        successText = thisForm.attr('data-success') ? thisForm.attr('data-success') : \"Thanks, we'll be in touch shortly\";\n        body.append('<div class=\"form-error\" style=\"display: none;\">' + errorText + '</div>');\n        body.append('<div class=\"form-success\" style=\"display: none;\">' + successText + '</div>');\n        formError = body.find('.form-error');\n        formSuccess = body.find('.form-success');\n        thisForm.addClass('attempted-submit');\n\n        // Do this if the form is intended to be submitted to MailChimp or Campaign Monitor\n        if (formAction.indexOf('createsend.com') !== -1 || formAction.indexOf('list-manage.com') !== -1 ) {\n\n            console.log('Mail list form signup detected.');\n            if (typeof originalError !== typeof undefined && originalError !== false) {\n                formError.html(originalError);\n            }\n            \n            // validateFields returns 1 on error;\n            if (mr.forms.validateFields(thisForm) !== 1) {\n               \n                thisForm.removeClass('attempted-submit');\n\n                // Hide the error if one was shown\n                formError.fadeOut(200);\n                // Create a new loading spinner in the submit button.\n                submitButton.addClass('btn--loading');\n                \n                try{\n                    $.ajax({\n                        url: thisForm.attr('action'),\n                        crossDomain: true,\n                        data: thisForm.serialize(),\n                        method: \"GET\",\n                        cache: false,\n                        dataType: 'json',\n                        contentType: 'application/json; charset=utf-8',\n                        success: function(data){\n                            // Request was a success, what was the response?\n\n                            if (data.result !== \"success\" && data.Status !== 200) {\n                                \n                                // Got an error from Mail Chimp or Campaign Monitor\n\n                                // Keep the current error text in a data attribute on the form\n                                formError.attr('original-error', formError.text());\n                                // Show the error with the returned error text.\n                                formError.html(data.msg).stop(true).fadeIn(1000);\n                                formSuccess.stop(true).fadeOut(1000);\n\n                                submitButton.removeClass('btn--loading');\n                            } else {\n                                \n                                // Got success from Mail Chimp or Campaign Monitor\n                                \n                                submitButton.removeClass('btn--loading');\n\n                                successRedirect = thisForm.attr('data-success-redirect');\n                                // For some browsers, if empty `successRedirect` is undefined; for others,\n                                // `successRedirect` is false.  Check for both.\n                                if (typeof successRedirect !== typeof undefined && successRedirect !== false && successRedirect !== \"\") {\n                                    window.location = successRedirect;\n                                }else{\n                                    mr.forms.resetForm(thisForm);\n                                    mr.forms.showFormSuccess(formSuccess, formError, 1000, 5000, 500);\n                                }\n                            }\n                        }\n                    });\n                }catch(err){\n                    // Keep the current error text in a data attribute on the form\n                    formError.attr('original-error', formError.text());\n                    // Show the error with the returned error text.\n                    formError.html(err.message);\n                    mr.forms.showFormError(formSuccess, formError, 1000, 5000, 500);\n\n                    submitButton.removeClass('btn--loading');\n                }\n            \n\n                \n            } else {\n                // There was a validation error - show the default form error message\n                mr.forms.showFormError(formSuccess, formError, 1000, 5000, 500);\n            }\n        } else {\n            // If no MailChimp or Campaign Monitor form was detected then this is treated as an email form instead.\n            if (typeof originalError !== typeof undefined && originalError !== false) {\n                formError.text(originalError);\n            }\n\n            error = mr.forms.validateFields(thisForm);\n\n            if (error === 1) {\n                mr.forms.showFormError(formSuccess, formError, 1000, 5000, 500);\n            } else {\n\n                thisForm.removeClass('attempted-submit');\n\n                // Hide the error if one was shown\n                formError.fadeOut(200);\n                \n                // Create a new loading spinner in the submit button.\n                submitButton.addClass('btn--loading');\n\n                jQuery.ajax({\n                    type: \"POST\",\n                    url: \"mail/mail.php\",\n                    data: thisForm.serialize()+\"&url=\"+window.location.href,\n                    success: function(response) {\n                        // Swiftmailer always sends back a number representing number of emails sent.\n                        // If this is numeric (not Swift Mailer error text) AND greater than 0 then show success message.\n\n                        submitButton.removeClass('btn--loading');\n\n                        if ($.isNumeric(response)) {\n                            if (parseInt(response,10) > 0) {\n                                // For some browsers, if empty 'successRedirect' is undefined; for others,\n                                // 'successRedirect' is false.  Check for both.\n                                successRedirect = thisForm.attr('data-success-redirect');\n                                if (typeof successRedirect !== typeof undefined && successRedirect !== false && successRedirect !== \"\") {\n                                    window.location = successRedirect;\n                                }\n\n                                mr.forms.resetForm(thisForm);\n                                mr.forms.showFormSuccess(formSuccess, formError, 1000, 5000, 500);\n                            }\n                        }\n                        // If error text was returned, put the text in the .form-error div and show it.\n                        else {\n                            // Keep the current error text in a data attribute on the form\n                            formError.attr('original-error', formError.text());\n                            // Show the error with the returned error text.\n                            formError.text(response).stop(true).fadeIn(1000);\n                            formSuccess.stop(true).fadeOut(1000);\n                        }\n                    },\n                    error: function(errorObject, errorText, errorHTTP) {\n                        // Keep the current error text in a data attribute on the form\n                        formError.attr('original-error', formError.text());\n                        // Show the error with the returned error text.\n                        formError.text(errorHTTP).stop(true).fadeIn(1000);\n                        formSuccess.stop(true).fadeOut(1000);\n                        submitButton.removeClass('btn--loading');\n                    }\n                });\n            }\n        }\n        return false;\n    };\n    \n    mr.forms.validateFields = function(form) {\n        var body = $(body),\n            error = false,\n            originalErrorMessage,\n            name;\n\n            form = $(form);\n\n\n\n        form.find('.validate-required[type=\"checkbox\"]').each(function() {\n            var checkbox = $(this);\n            if (!$('[name=\"' + $(this).attr('name') + '\"]:checked').length) {\n                error = 1;\n                name = $(this).attr('data-name') ||  'check';\n                checkbox.parent().addClass('field-error');\n                //body.find('.form-error').text('Please tick at least one ' + name + ' box.');\n            }\n        });\n\n        $(form).find('.validate-required, .required, [required]').not('input[type=\"checkbox\"]').each(function() {\n            if ($(this).val() === '') {\n                $(this).addClass('field-error');\n                error = 1;\n            } else {\n                $(this).removeClass('field-error');\n            }\n        });\n\n        $(form).find('.validate-email, .email, [name*=\"cm-\"][type=\"email\"]').each(function() {\n            if (!(/(.+)@(.+){2,}\\.(.+){2,}/.test($(this).val()))) {\n                $(this).addClass('field-error');\n                error = 1;\n            } else {\n                $(this).removeClass('field-error');\n            }\n        });\n\n        if (!form.find('.field-error').length) {\n            body.find('.form-error').fadeOut(1000);\n        }else{\n            \n            var firstError = $(form).find('.field-error:first');\n            \n            if(firstError.length){\n                $('html, body').stop(true).animate({\n                    scrollTop: (firstError.offset().top - 100)\n                }, 1200, function(){firstError.focus();});\n            }\n        }\n\n        return error;\n    };\n\n    mr.forms.showFormSuccess = function(formSuccess, formError, fadeOutError, wait, fadeOutSuccess){\n        \n        formSuccess.stop(true).fadeIn(fadeOutError);\n\n        formError.stop(true).fadeOut(fadeOutError);\n        setTimeout(function() {\n            formSuccess.stop(true).fadeOut(fadeOutSuccess);\n        }, wait);\n    };\n\n    mr.forms.showFormError = function(formSuccess, formError, fadeOutSuccess, wait, fadeOutError){\n        \n        formError.stop(true).fadeIn(fadeOutSuccess);\n\n        formSuccess.stop(true).fadeOut(fadeOutSuccess);\n        setTimeout(function() {\n            formError.stop(true).fadeOut(fadeOutError);\n        }, wait);\n    };\n\n    // Reset form to empty/default state.\n    mr.forms.resetForm = function(form){\n        form = $(form);\n        form.get(0).reset();\n        form.find('.input-radio, .input-checkbox').removeClass('checked');\n\n    };\n\n    mr.components.documentReady.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Granim\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n    \t$('[data-gradient-bg]').each(function(index,element){\n    \t\tvar granimParent = $(this),\n    \t\t\tgranimID \t = 'granim-'+index+'',\n\t\t\t\tcolours \t = granimParent.attr('data-gradient-bg'),\n\t\t\t\tpairs        = [],\n\t\t\t\ttempPair     = [],\n\t\t\t\tcount,\n\t\t\t\tpasses,\n\t\t\t\ti;\n\n\t\t\t// Canvas element forms the gradient background\n\t\t\tgranimParent.prepend('<canvas id=\"'+granimID+'\"></canvas>');\n\n            // Regular expression to match comma separated list of hex colour values\n            passes = /^(#[0-9|a-f|A-F]{6}){1}([ ]*,[ ]*#[0-9|a-f|A-F]{6})*$/.test(colours);\n\n            if(passes === true){\n            \tcolours = colours.replace(' ','');\n            \tcolours = colours.split(',');\n            \tcount = colours.length;\n            \t// If number of colours is odd - duplicate last colour to make even array\n            \tif(count%2 !== 0){\n            \t\tcolours.push(colours[count-1]);\n            \t}\n            \tfor(i = 0; i < (count/2); i++){\n                    tempPair = [];\n                    tempPair.push(colours.shift());\n                    tempPair.push(colours.shift());\n                    pairs.push(tempPair);\n            \t}\n            }\n\n    \t\tvar granimElement = $(this);\n    \t\tvar granimInstance = new Granim({\n\t\t\t    element: '#'+granimID,\n\t\t\t    name: 'basic-gradient',\n\t\t\t    direction: 'left-right',\n\t\t\t    opacity: [1, 1],\n\t\t\t    isPausedWhenNotInView: true,\n\t\t\t    states : {\n\t\t\t        \"default-state\": {\n\t\t\t            gradients: pairs\n\t\t\t        }\n\t\t\t    }\n\t\t\t});\n    \t});        \n    };\n\n    mr.granim = {\n      documentReady : documentReady        \n    };\n\n    mr.components.documentReadyDeferred.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Instagram\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    var documentReady = function($){\r\n        \r\n        if($('.instafeed').length){\r\n\r\n            // Replace with your own Access Token and Client ID\r\n            var token  = '4079540202.b9b1d8a.1d13c245c68d4a17bfbff87919aaeb14',\r\n                client = 'b9b1d8ae049d4153b24a6332f0088686';\r\n\r\n            if($('.instafeed[data-access-token][data-client-id]').length){\r\n                token = $('.instafeed[data-access-token][data-client-id]').attr('data-access-token');\r\n                client = $('.instafeed[data-access-token][data-client-id]').attr('data-client-id');\r\n            }\r\n\r\n            jQuery.fn.spectragram.accessData = {\r\n                accessToken: token,\r\n                clientID: client\r\n            };  \r\n        }\r\n\r\n        $('.instafeed').each(function(){\r\n            var feed   = $(this),\r\n                feedID = feed.attr('data-user-name'),\r\n                fetchNumber = 12;\r\n            if(typeof feed.attr('data-amount') !== typeof undefined){\r\n                fetchNumber = parseInt(feed.attr('data-amount'), 10);\r\n            }\r\n            feed.append('<ul></ul>');\r\n            feed.children('ul').spectragram('getUserFeed', {\r\n                query: feedID,\r\n                max: fetchNumber\r\n            });\r\n        });\r\n    };\r\n\r\n    mr.instagram = {\r\n        documentReady : documentReady        \r\n    };\r\n\r\n    mr.components.documentReadyDeferred.push(documentReady);\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Maps\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.maps = {};\n\n    var documentReady = function($){\n        // Interact with Map once the user has clicked (to prevent scrolling the page = zooming the map\n\n        $('.map-holder').on('click', function() {\n            $(this).addClass('interact');\n        }).removeClass('interact');\n        \n        mr.maps.initAPI();\n        mr.maps.init();\n        \n    };\n    mr.maps.documentReady = documentReady;\n\n    mr.maps.initAPI = function(){\n        // Load Google MAP API JS with callback to initialise when fully loaded\n        if(document.querySelector('[data-maps-api-key]') && !document.querySelector('.gMapsAPI')){\n            if($('[data-maps-api-key]').length){\n                var script = document.createElement('script');\n                var apiKey = $('[data-maps-api-key]:first').attr('data-maps-api-key');\n                apiKey = typeof apiKey !== typeof undefined ? apiKey : ''; \n                if(apiKey !== ''){\n                    script.type = 'text/javascript';\n                    script.src = 'https://maps.googleapis.com/maps/api/js?key='+apiKey+'&callback=mr.maps.init';\n                    script.className = 'gMapsAPI';\n                    document.body.appendChild(script);  \n                }\n            } \n        }\n    };\n\n    mr.maps.init = function(){\n        if(typeof window.google !== \"undefined\"){\n            if(typeof window.google.maps !== \"undefined\"){\n                $('.map-container[data-maps-api-key]').each(function(){\n                    var mapElement    = this,\n                        mapInstance   = $(this),\n                        mapJSON       = typeof mapInstance.attr('data-map-style') !== typeof undefined ? mapInstance.attr('data-map-style'): false,\n                        mapStyle      = JSON.parse(mapJSON) || [{\"featureType\":\"landscape\",\"stylers\":[{\"saturation\":-100},{\"lightness\":65},{\"visibility\":\"on\"}]},{\"featureType\":\"poi\",\"stylers\":[{\"saturation\":-100},{\"lightness\":51},{\"visibility\":\"simplified\"}]},{\"featureType\":\"road.highway\",\"stylers\":[{\"saturation\":-100},{\"visibility\":\"simplified\"}]},{\"featureType\":\"road.arterial\",\"stylers\":[{\"saturation\":-100},{\"lightness\":30},{\"visibility\":\"on\"}]},{\"featureType\":\"road.local\",\"stylers\":[{\"saturation\":-100},{\"lightness\":40},{\"visibility\":\"on\"}]},{\"featureType\":\"transit\",\"stylers\":[{\"saturation\":-100},{\"visibility\":\"simplified\"}]},{\"featureType\":\"administrative.province\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels\",\"stylers\":[{\"visibility\":\"on\"},{\"lightness\":-25},{\"saturation\":-100}]},{\"featureType\":\"water\",\"elementType\":\"geometry\",\"stylers\":[{\"hue\":\"#ffff00\"},{\"lightness\":-25},{\"saturation\":-97}]}],\n                        zoomLevel     = (typeof mapInstance.attr('data-map-zoom') !== typeof undefined && mapInstance.attr('data-map-zoom') !== \"\") ? mapInstance.attr('data-map-zoom') * 1: 17,\n                        latlong       = typeof mapInstance.attr('data-latlong') !== typeof undefined ? mapInstance.attr('data-latlong') : false,\n                        latitude      = latlong ? 1 *latlong.substr(0, latlong.indexOf(',')) : false,\n                        longitude     = latlong ? 1 * latlong.substr(latlong.indexOf(\",\") + 1) : false,\n                        geocoder      = new google.maps.Geocoder(),\n                        address       = typeof mapInstance.attr('data-address') !== typeof undefined ? mapInstance.attr('data-address').split(';'): [\"\"],\n                        markerImage   = typeof mapInstance.attr('data-marker-image') !== typeof undefined ? mapInstance.attr('data-marker-image'): 'img/mapmarker.png',\n                        markerTitle   = \"We Are Here\",\n                        isDraggable   = $(document).width() > 766 ? true : false,\n                        map, marker,\n                        mapOptions = {\n                            draggable: isDraggable,\n                            scrollwheel: false,\n                            zoom: zoomLevel,\n                            disableDefaultUI: true,\n                            styles: mapStyle\n                        };\n\n                    if(typeof mapInstance.attr('data-marker-title') !== typeof undefined && mapInstance.attr('data-marker-title') !== \"\" )\n                    {\n                        markerTitle = mapInstance.attr('data-marker-title');\n                    }\n\n                    if(address !== undefined && address[0] !== \"\"){\n                            geocoder.geocode( { 'address': address[0].replace('[nomarker]','')}, function(results, status) {\n                                if (status === google.maps.GeocoderStatus.OK) {\n                                var map = new google.maps.Map(mapElement, mapOptions); \n                                map.setCenter(results[0].geometry.location);\n                                \n                                address.forEach(function(address){\n                                    var markerGeoCoder;\n                                    \n                                    markerImage = {url: typeof window.mr_variant === typeof undefined ? markerImage : '../img/mapmarker.png', scaledSize: new google.maps.Size(50,50)};\n                                    if(/(\\-?\\d+(\\.\\d+)?),\\s*(\\-?\\d+(\\.\\d+)?)/.test(address) ){\n                                        var latlong = address.split(','),\n                                        marker = new google.maps.Marker({\n                                                        position: { lat: 1*latlong[0], lng: 1*latlong[1] },\n                                                        map: map,\n                                                        icon: markerImage,\n                                                        title: markerTitle,\n                                                        optimised: false\n                                                    });\n                                    }\n                                    else if(address.indexOf('[nomarker]') < 0){\n                                        markerGeoCoder = new google.maps.Geocoder();\n                                        markerGeoCoder.geocode( { 'address': address.replace('[nomarker]','')}, function(results, status) {\n                                            if (status === google.maps.GeocoderStatus.OK) {\n                                                marker = new google.maps.Marker({\n                                                    map: map,\n                                                    icon: markerImage,\n                                                    title: markerTitle,\n                                                    position: results[0].geometry.location,\n                                                    optimised: false\n                                                });\n                                            }\n                                            else{\n                                                console.log('Map marker error: '+status);\n                                            }\n                                        });\n                                    }\n\n                                });\n                            } else {\n                                console.log('There was a problem geocoding the address.');\n                            }\n                        });\n                    }\n                    else if(typeof latitude !== typeof undefined && latitude !== \"\" && latitude !== false && typeof longitude !== typeof undefined && longitude !== \"\" && longitude !== false ){\n                        mapOptions.center   = { lat: latitude, lng: longitude};\n                        map                 = new google.maps.Map(mapInstance, mapOptions); \n                        marker              = new google.maps.Marker({\n                                                    position: { lat: latitude, lng: longitude },\n                                                    map: map,\n                                                    icon: markerImage,\n                                                    title: markerTitle\n                                                });\n\n                    }\n\n                }); \n            }\n        }\n    };\n\n    mr.components.documentReady.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Masonry\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    var documentReady = function($){\r\n\r\n        $('.masonry').each(function(){\r\n            var masonry = $(this);\r\n            var masonryContainer = masonry.find('.masonry__container'),\r\n                filters          = masonry.find('.masonry__filters'),\r\n                // data-filter-all-text can be used to set the word for \"all\"\r\n                filterAllText    = typeof filters.attr('data-filter-all-text') !== typeof undefined ? filters.attr('data-filter-all-text') : \"All\",\r\n                filtersList;\r\n            \r\n            // If a filterable masonry item exists\r\n            if(masonryContainer.find('.masonry__item[data-masonry-filter]').length){\r\n                \r\n                // Create empty ul for filters\r\n                filters.append('<ul></ul>');\r\n                filtersList = filters.find('> ul');\r\n\r\n                // To avoid cases where user leave filter attribute blank\r\n                // only take items that have filter attribute\r\n                masonryContainer.find('.masonry__item[data-masonry-filter]').each(function(){\r\n                    var masonryItem  = $(this),\r\n                        filterString = masonryItem.attr('data-masonry-filter'),\r\n                        filtersArray = [];\r\n\r\n                    // If not undefined or empty\r\n                    if(typeof filterString !== typeof undefined && filterString !== \"\"){\r\n                        // Split tags from string into array \r\n                        filtersArray = filterString.split(',');\r\n                    }\r\n                    jQuery(filtersArray).each(function(index, tag){\r\n\r\n                        // Slugify the tag\r\n\r\n                        var slug = mr.util.slugify(tag, true);\r\n\r\n                        // Add the filter class to the masonry item\r\n\r\n                        masonryItem.addClass('filter-'+slug);\r\n\r\n                        // If this tag does not appear in the list already, add it\r\n                        if(!filtersList.find('[data-masonry-filter=\"'+slug+'\"]').length){\r\n                            filtersList.append('<li data-masonry-filter=\"'+slug+'\">'+tag+'</li>');\r\n                            \r\n                        }\r\n                    }); \r\n                });\r\n\r\n                mr.util.sortChildrenByText($(this).find('.masonry__filters ul'));\r\n                // Add a filter \"all\" option\r\n                filtersList.prepend('<li class=\"active\" data-masonry-filter=\"*\">'+filterAllText+'</li>');\r\n\r\n            }\r\n            //End of \"if filterable masonry item exists\"\r\n        });\r\n        \r\n    };\r\n\r\n    var windowLoad = function(){\r\n\r\n        $('.masonry').each(function(){\r\n            var masonry = $(this).find('.masonry__container');\r\n\r\n            masonry.on('layoutComplete',function(){\r\n                masonry.addClass('masonry--active');\r\n            });\r\n\r\n            masonry.isotope({\r\n              itemSelector: '.masonry__item',\r\n              masonry: {\r\n                columnWidth: '.masonry__item'\r\n              }\r\n            });\r\n\r\n        });\r\n\r\n        $('.masonry__filters li').on('click', function(){\r\n            var masonryFilter = $(this);\r\n            var masonryContainer = masonryFilter.closest('.masonry').find('.masonry__container');\r\n            var filterValue = '*';\r\n            if(masonryFilter.attr('data-masonry-filter') !== '*'){\r\n                filterValue = '.filter-'+masonryFilter.attr('data-masonry-filter');\r\n            }\r\n            masonryFilter.siblings('li').removeClass('active');\r\n            masonryFilter.addClass('active');\r\n            masonryContainer.removeClass('masonry--animate');\r\n            masonryContainer.isotope({ filter: filterValue });\r\n        });\r\n    };\r\n\r\n    mr.masonry = {\r\n        documentReady : documentReady,\r\n        windowLoad : windowLoad        \r\n    };\r\n\r\n    mr.components.documentReady.push(documentReady);\r\n    mr.components.windowLoad.push(windowLoad);\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Modals\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    mr.modals = {};\r\n\r\n    var documentReady = function($){\r\n        var allPageModals = \"<div class=\\\"all-page-modals\\\"></div>\",\r\n            mainContainer = $('div.main-container');\r\n\r\n        if(mainContainer.length){\r\n            jQuery(allPageModals).insertAfter(mainContainer);\r\n            mr.modals.allModalsContainer = $('div.all-page-modals');\r\n        }\r\n        else{\r\n            jQuery('body').append(allPageModals);\r\n            mr.modals.allModalsContainer = jQuery('body div.all-page-modals');\r\n        }\r\n\r\n        $('.modal-container').each(function(){\r\n\r\n            // Add modal close if none exists\r\n\r\n            var modal        = $(this),\r\n                $window      = $(window),\r\n                modalContent = modal.find('.modal-content');\r\n                \r\n            \r\n            if(!modal.find('.modal-close').length){\r\n                modal.find('.modal-content').append('<div class=\"modal-close modal-close-cross\"></div>');\r\n            }\r\n\r\n            // Set modal height\r\n            \r\n            if(modalContent.attr('data-width') !== undefined){\r\n                var modalWidth = modalContent.attr('data-width').substr(0,modalContent.attr('data-width').indexOf('%')) * 1;\r\n                modalContent.css('width',modalWidth + '%');\r\n            }\r\n            if(modalContent.attr('data-height') !== undefined){\r\n                var modalHeight = modalContent.attr('data-height').substr(0,modalContent.attr('data-height').indexOf('%')) * 1;\r\n                modalContent.css('height',modalHeight + '%');\r\n            }\r\n\r\n            // Set iframe's src to data-src to stop autoplaying iframes\r\n            mr.util.idleSrc(modal, 'iframe');\r\n\r\n        });\r\n\r\n\r\n        $('.modal-instance').each(function(index){\r\n            var modalInstance = $(this);\r\n            var modal = modalInstance.find('.modal-container');\r\n            var modalContent = modalInstance.find('.modal-content');\r\n            var trigger = modalInstance.find('.modal-trigger');\r\n            \r\n            // Link modal with modal-id attribute\r\n            \r\n            trigger.attr('data-modal-index',index);\r\n            modal.attr('data-modal-index',index);\r\n            \r\n            // Set unique id for multiple triggers\r\n            \r\n            if(typeof modal.attr('data-modal-id') !== typeof undefined){\r\n                trigger.attr('data-modal-id', modal.attr('data-modal-id'));\r\n            }\r\n            \r\n\r\n            // Attach the modal to the body            \r\n            modal = modal.detach();\r\n            mr.modals.allModalsContainer.append(modal);\r\n        });\r\n        \r\n\r\n        $('.modal-trigger').on('click', function(){\r\n\r\n            var modalTrigger = $(this);\r\n            var uniqueID, targetModal;\r\n            // Determine if the modal id is set by user or is set programatically\r\n   \r\n            if(typeof modalTrigger.attr('data-modal-id') !== typeof undefined){\r\n                uniqueID = modalTrigger.attr('data-modal-id');\r\n                targetModal = mr.modals.allModalsContainer.find('.modal-container[data-modal-id=\"'+uniqueID+'\"]');    \r\n            }else{\r\n                uniqueID = $(this).attr('data-modal-index');\r\n                targetModal = mr.modals.allModalsContainer.find('.modal-container[data-modal-index=\"'+uniqueID+'\"]');\r\n            }\r\n            \r\n            mr.util.activateIdleSrc(targetModal, 'iframe');\r\n            mr.modals.autoplayVideo(targetModal);\r\n\r\n            mr.modals.showModal(targetModal);\r\n\r\n            return false;\r\n        });\r\n\r\n        jQuery(document).on('click', '.modal-close', mr.modals.closeActiveModal);\r\n\r\n        jQuery(document).keyup(function(e) {\r\n            if (e.keyCode === 27) { // escape key maps to keycode `27`\r\n                mr.modals.closeActiveModal();\r\n            }\r\n        });\r\n\r\n        $('.modal-container').on('click', function(e) { \r\n            if( e.target !== this ) return;\r\n            mr.modals.closeActiveModal();\r\n        });\r\n\r\n        // Trigger autoshow modals\r\n        $('.modal-container[data-autoshow]').each(function(){\r\n            var modal = $(this);\r\n            var millisecondsDelay = modal.attr('data-autoshow')*1;\r\n\r\n            mr.util.activateIdleSrc(modal);\r\n            mr.modals.autoplayVideo(modal);\r\n\r\n            // If this modal has a cookie attribute, check to see if a cookie is set, and if so, don't show it.\r\n            if(typeof modal.attr('data-cookie') !== typeof undefined){\r\n                if(!mr.cookies.hasItem(modal.attr('data-cookie'))){\r\n                    mr.modals.showModal(modal, millisecondsDelay);\r\n                }\r\n            }else{\r\n                mr.modals.showModal(modal, millisecondsDelay);\r\n            }\r\n        });\r\n\r\n        // Exit modals\r\n        $('.modal-container[data-show-on-exit]').each(function(){\r\n            var modal        = jQuery(this),\r\n                exitSelector = modal.attr('data-show-on-exit'),\r\n                delay = 0;\r\n\r\n            if(modal.attr('data-delay')){\r\n                delay = parseInt(modal.attr('data-delay'), 10) || 0;  \r\n            } \r\n\r\n            // If a valid selector is found, attach leave event to show modal.\r\n            if($(exitSelector).length){\r\n                modal.prepend($('<i class=\"ti-close close-modal\">'));\r\n                jQuery(document).on('mouseleave', exitSelector, function(){\r\n                    if(!$('.modal-active').length){\r\n                        if(typeof modal.attr('data-cookie') !== typeof undefined){\r\n                            if(!mr.cookies.hasItem(modal.attr('data-cookie'))){\r\n                                mr.modals.showModal(modal, delay);\r\n                            }\r\n                        }else{\r\n                            mr.modals.showModal(modal, delay);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        // Autoshow modal by ID from location href\r\n        if(window.location.href.split('#').length === 2){\r\n            var modalID = window.location.href.split('#').pop();\r\n            if($('[data-modal-id=\"'+modalID+'\"]').length){\r\n                mr.modals.closeActiveModal();\r\n                mr.modals.showModal($('[data-modal-id=\"'+modalID+'\"]'));\r\n            }  \r\n        }\r\n\r\n        // Make modal scrollable\r\n        $(document).on('wheel mousewheel scroll','.modal-content, .modal-content .scrollable', function(evt){\r\n            if(evt.preventDefault){evt.preventDefault();}\r\n            if(evt.stopPropagation){evt.stopPropagation();}\r\n            this.scrollTop += (evt.originalEvent.deltaY); \r\n        });\r\n    };\r\n    ////////////////\r\n    //////////////// End documentReady\r\n    ////////////////\r\n\r\n    mr.modals.documentReady = documentReady;\r\n\r\n    mr.modals.showModal = function(modal, millisecondsDelay){\r\n        \r\n        var delay = (typeof millisecondsDelay !== typeof undefined) ? (1*millisecondsDelay) : 0;\r\n        \r\n        setTimeout(function(){\r\n            modal.addClass('modal-active');\r\n        },delay);\r\n    };\r\n\r\n    mr.modals.closeActiveModal = function(){\r\n        var modal = jQuery('body div.modal-active');\r\n        mr.util.idleSrc(modal, 'iframe');\r\n        mr.util.pauseVideo(modal);\r\n\r\n        // If this modal requires to be closed permanently using a cookie, set the cookie now.\r\n        if(typeof modal.attr('data-cookie') !== typeof undefined){\r\n            mr.cookies.setItem(modal.attr('data-cookie'), \"true\", Infinity);\r\n        }\r\n\r\n        modal.removeClass('modal-active');\r\n    };\r\n\r\n    mr.modals.autoplayVideo = function(modal){\r\n        // If modal contains HTML5 video with autoplay, play the video\r\n        if(modal.find('video[autoplay]').length){\r\n            var video = modal.find('video').get(0);\r\n            video.play();\r\n        }\r\n    };\r\n\r\n    mr.components.documentReady.push(documentReady);\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Newsletter Providers\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    mr.newsletters = {};\r\n\r\n    var documentReady = function($){\r\n  \r\n  \tvar form,checkbox,label,id,parent,radio;\r\n    \r\n    // Treat Campaign Monitor forms\r\n    $('form[action*=\"createsend.com\"]').each(function(){\r\n    \tform = $(this);\r\n\r\n        // Override browser validation and allow us to use our own\r\n        form.attr('novalidate', 'novalidate');\r\n\r\n    \t// Give each text input a placeholder value\r\n\r\n    \tif(!form.is('.form--no-placeholders')){\r\n            form.find('input:not([checkbox]):not([radio])').each(function(){\r\n                var $input = $(this);\r\n                if(typeof $input.attr('placeholder') !== typeof undefined){\r\n                    if($input.attr('placeholder') === \"\"){\r\n                        if($input.siblings('label').length){\r\n                            $input.attr('placeholder', $input.siblings('label').first().text());\r\n                            if(form.is('.form--no-labels')){   \r\n                                $input.siblings('label').first().remove();\r\n                            }\r\n                        }\r\n                    }\r\n                }else if($input.siblings('label').length){\r\n                    $input.attr('placeholder', $input.siblings('label').first().text()); \r\n                    if(form.is('.form--no-labels')){\r\n                        $input.siblings('label').first().remove();\r\n                    }\r\n                }\r\n                if($input.parent().is('p')){\r\n                    $input.unwrap();\r\n                }\r\n            });\r\n        }else{\r\n            form.find('input[placeholder]').removeAttr('placeholder');\r\n        }\r\n\r\n\r\n    \t// Wrap select elements in template code\r\n\r\n    \tform.find('select').wrap('<div class=\"input-select\"></div>');\r\n\r\n    \t// Wrap radios elements in template code\r\n\r\n    \tform.find('input[type=\"radio\"]').wrap('<div class=\"input-radio\"></div>');\r\n\r\n    \t// Wrap checkbox elements in template code\r\n\r\n    \tform.find('input[type=\"checkbox\"]').each(function(){\r\n    \t\tcheckbox = $(this);\r\n    \t\tid = checkbox.attr('id');\r\n    \t\tlabel = form.find('label[for='+id+']');\r\n    \t\t\r\n    \t\tcheckbox.before('<div class=\"input-checkbox\" data-id=\"'+id+'\"></div>');\r\n    \t\t$('.input-checkbox[data-id=\"'+id+'\"]').prepend(checkbox);\r\n    \t\t$('.input-checkbox[data-id=\"'+id+'\"]').prepend(label);\r\n    \t\t$('.input-checkbox[data-id=\"'+id+'\"]').prepend('<div class=\"inner\"></div>');\r\n    \t});\r\n\r\n    \tform.find('button[type=\"submit\"]').each(function(){\r\n            var button = $(this);\r\n            button.addClass('btn');\r\n            if(button.parent().is('p')){\r\n                button.unwrap();\r\n            }\r\n        });\r\n        \r\n        form.find('[required]').removeAttr('required').addClass('validate-required');\r\n\r\n        form.addClass('form--active');\r\n\r\n        mr.newsletters.prepareAjaxAction(form);\r\n\r\n    });\r\n\r\n    // Treat MailChimp forms\r\n    $('form[action*=\"list-manage.com\"]').each(function(){\r\n    \tform = $(this);\r\n\r\n        // Override browser validation and allow us to use our own\r\n        form.attr('novalidate', 'novalidate');\r\n\r\n    \t// Give each text input a placeholder value\r\n        if(!form.is('.form--no-placeholders')){\r\n        \tform.find('input:not([checkbox]):not([radio])').each(function(){\r\n        \t\tvar $input = $(this);\r\n                if(typeof $input.attr('placeholder') !== typeof undefined){\r\n                    if($input.attr('placeholder') === \"\"){\r\n                        if($input.siblings('label').length){\r\n                            $input.attr('placeholder', $input.siblings('label').first().text());\r\n                            if(form.is('.form--no-labels')){   \r\n                                $input.siblings('label').first().remove();\r\n                            }\r\n                        }\r\n                    }\r\n                }else if($input.siblings('label').length){\r\n                    $input.attr('placeholder', $input.siblings('label').first().text()); \r\n                    if(form.is('.form--no-labels')){\r\n                        $input.siblings('label').first().remove();\r\n                    }\r\n                }\r\n        \t});\r\n        }else{\r\n            form.find('input[placeholder]').removeAttr('placeholder');\r\n        }\r\n\r\n        if(form.is('.form--no-labels')){\r\n            form.find('input:not([checkbox]):not([radio])').each(function(){\r\n                var $input = $(this);\r\n                if($input.siblings('label').length){\r\n                    $input.siblings('label').first().remove();\r\n                }\r\n            });\r\n        }\r\n\r\n    \t// Wrap select elements in template code\r\n\r\n    \tform.find('select').wrap('<div class=\"input-select\"></div>');\r\n\r\n    \t// Wrap checboxes elements in template code\r\n\r\n    \tform.find('input[type=\"checkbox\"]').each(function(){\r\n    \t\tcheckbox = $(this);\r\n    \t\tparent = checkbox.parent();\r\n    \t\tlabel = parent.find('label');\r\n    \t\tcheckbox.before('<div class=\"input-checkbox\"><div class=\"inner\"></div></div>');\r\n    \t\tparent.find('.input-checkbox').append(checkbox);\r\n    \t\tparent.find('.input-checkbox').append(label);\r\n    \t});\r\n\r\n    \t// Wrap radio elements in template code\r\n\r\n    \tform.find('input[type=\"radio\"]').each(function(){\r\n    \t\tradio = $(this);\r\n    \t\tparent = radio.closest('li');\r\n    \t\tlabel = parent.find('label');\r\n    \t\tradio.before('<div class=\"input-radio\"><div class=\"inner\"></div></div>');\r\n    \t\tparent.find('.input-radio').prepend(radio);\r\n    \t\tparent.find('.input-radio').prepend(label);\r\n    \t});\r\n\r\n        // Convert MailChimp input[type=\"submit\"] to div.button\r\n\r\n        form.find('input[type=\"submit\"]').each(function(){\r\n            var submit = $(this);\r\n            \r\n            var newButton = jQuery('<button/>').attr('type','submit').attr('class', submit.attr('class')).addClass('btn').text(submit.attr('value'));\r\n            \r\n            if(submit.parent().is('div.clear')){\r\n                submit.unwrap();\r\n            }\r\n\r\n            newButton.insertBefore(submit);\r\n            submit.remove();\r\n        });\r\n\r\n        form.find('input').each(function(){\r\n            var input = $(this);\r\n            if(input.hasClass('required')){\r\n                input.removeClass('required').addClass('validate-required');\r\n            }\r\n        });\r\n\r\n        form.find('input[type=\"email\"]').removeClass('email').addClass('validate-email');\r\n\r\n        form.find('#mce-responses').remove();\r\n\r\n        form.find('.mc-field-group').each(function(){\r\n            $(this).children().first().unwrap();\r\n        });\r\n\r\n        form.find('[required]').removeAttr('required').addClass('validate-required');\r\n\r\n        form.addClass('form--active');\r\n\r\n        mr.newsletters.prepareAjaxAction(form);\r\n     \r\n    \r\n\r\n    }); \r\n\r\n\t// Reinitialize the forms so interactions work as they should\r\n\r\n\tmr.forms.documentReady(mr.setContext('form.form--active'));\r\n\t\t\r\n  };\r\n\r\n  mr.newsletters.documentReady = documentReady;\r\n\r\n  mr.newsletters.prepareAjaxAction = function(form){\r\n        var action = $(form).attr('action');\r\n\r\n        // Alter action for a Mail Chimp-compatible ajax request url.\r\n        if(/list-manage\\.com/.test(action)){\r\n           action = action.replace('/post?', '/post-json?') + \"&c=?\";\r\n           if(action.substr(0,2) === \"//\"){\r\n               action = 'http:' + action;\r\n           }\r\n        }\r\n\r\n        // Alter action for a Campaign Monitor-compatible ajax request url.\r\n        if(/createsend\\.com/.test(action)){\r\n           action = action + '?callback=?';\r\n        }\r\n\r\n        // Set action on the form\r\n        $(form).attr('action', action);\r\n\r\n    };\r\n\r\n\r\n\r\n  mr.components.documentReady.push(documentReady);\r\n  return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Notifications\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    mr.notifications = {};\r\n\r\n    var documentReady = function($){\r\n        \r\n        $('.notification').each(function(){\r\n            var notification = $(this);\r\n            if(!notification.find('.notification-close').length){\r\n                notification.append('<div class=\"notification-close-cross notification-close\"></div>');\r\n            }\r\n        });\r\n    \r\n\r\n        $('.notification[data-autoshow]').each(function(){\r\n            var notification = $(this);\r\n            var millisecondsDelay = notification.attr('data-autoshow') * 1;\r\n\r\n            // If this notification has a cookie attribute, check to see if a cookie is set, and if so, don't show it.\r\n            if(typeof notification.attr('data-cookie') !== typeof undefined){\r\n                if(!mr.cookies.hasItem(notification.attr('data-cookie'))){\r\n                    mr.notifications.showNotification(notification, millisecondsDelay);\r\n                }\r\n            }else{\r\n                mr.notifications.showNotification(notification, millisecondsDelay);\r\n            }\r\n        });\r\n\r\n        $('[data-notification-link]:not(.notification)').on('click', function(){\r\n            var notificationID = jQuery(this).attr('data-notification-link');\r\n            var notification = $('.notification[data-notification-link=\"'+notificationID+'\"]');\r\n            notification.removeClass('notification--dismissed');\r\n            mr.notifications.showNotification(notification, 0);\r\n            return false;\r\n        });\r\n\r\n        $('.notification-close').on('click', function(){\r\n            var closeButton = jQuery(this);\r\n            // Pass the closeNotification function a reference to the close button\r\n            mr.notifications.closeNotification(closeButton);\r\n\r\n            if(closeButton.attr('href') === '#'){\r\n                return false;\r\n            }\r\n        });\r\n    \r\n    };\r\n    \r\n    mr.notifications.documentReady = documentReady;\r\n\r\n    mr.notifications.showNotification = function(notification, millisecondsDelay){\r\n        var delay = (typeof millisecondsDelay !== typeof undefined) ? (1*millisecondsDelay) : 0;\r\n        setTimeout(function(){\r\n            notification.addClass('notification--reveal');\r\n            notification.closest('nav').addClass('notification--reveal');\r\n            if(notification.find('input').length){\r\n                notification.find('input').first().focus();\r\n            }\r\n        },delay);\r\n    };\r\n\r\n    mr.notifications.closeNotification = function(notification){\r\n\r\n        var $notification = jQuery(notification);\r\n        \r\n        notification = $notification.is('.notification-close') ? \r\n                       $notification.closest('.notification') : \r\n                       $('.notification[data-notification-link=\"'+notification+'\"]');\r\n\r\n        notification.addClass('notification--dismissed');\r\n        notification.closest('nav').removeClass('notification--reveal');\r\n\r\n        // If this notification requires to be closed permanently using a cookie, set the cookie now.\r\n        if(typeof notification.attr('data-cookie') !== typeof undefined){\r\n            mr.cookies.setItem(notification.attr('data-cookie'), \"true\", Infinity);\r\n        }\r\n    };\r\n\r\n    mr.components.documentReady.push(documentReady);\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Parallax\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n        \n        var $window      = $(window); \n        var windowWidth  = $window.width();\n        var windowHeight = $window.height();\n        var navHeight    = $('nav').outerHeight(true);\n\n        // Disable parallax on mobile\n\n        if ((/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)) {\n            $('section').removeClass('parallax');\n        }\n\n        if (windowWidth > 768) {\n            var parallaxHero = $('.parallax:nth-of-type(1)'),\n                parallaxHeroImage = $('.parallax:nth-of-type(1) .background-image-holder');\n\n            parallaxHeroImage.css('top', -(navHeight));\n            if(parallaxHero.outerHeight(true) === windowHeight){\n                parallaxHeroImage.css('height', windowHeight + navHeight);\n            }\n        }\n    };\n\n    mr.parallax = {\n        documentReady : documentReady        \n    };\n\n    mr.components.documentReady.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// FLickity\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n\n        $('.slider').each(function(index){\n            \n            var slider = $(this);\n            var sliderInitializer = slider.find('ul.slides');\n            sliderInitializer.find('>li').addClass('slide');\n            var childnum = sliderInitializer.find('li').length;\n            var arrows = false;\n            var paging = false;\n            var timing = 7000;\n            var autoplay = true;\n            var draggable = true;\n            if(slider.attr('data-arrows') === 'true'){\n                arrows = true;\n            }else{\n                arrows = false;\n            }\n            if(slider.attr('data-autoplay') === 'false'){\n                autoplay = false;\n            }else{\n                autoplay = true;\n            }\n            if(slider.attr('data-paging') === 'true' && sliderInitializer.find('li').length > 1){\n                paging = true;\n            }else{\n                paging = false;\n            }\n            if(slider.attr('data-timing')){\n                timing = slider.attr('data-timing')*1;\n            }\n            // Set data attribute to inidicate the number of children in the slider\n            slider.attr('data-children',childnum);\n\n            if(childnum < 2){\n                draggable = false;\n            }\n\n            $(sliderInitializer).flickity({\n                cellSelector: '.slide',\n                cellAlign: 'left',\n                wrapAround: true,\n                pageDots: paging,\n                prevNextButtons: arrows,\n                autoPlay: timing,\n                draggable: draggable,\n                imagesLoaded: true\n            });\n\n            $(sliderInitializer).on( 'scroll.flickity', function( event, progress ) {\n              if(slider.find('.is-selected').hasClass('controls--dark')){\n                slider.addClass('controls--dark');\n              }else{\n                slider.removeClass('controls--dark'); \n              }\n            });\n        });\n        \n    };\n\n    mr.sliders = {\n      documentReady : documentReady        \n    };\n\n    mr.components.documentReadyDeferred.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Smoothscroll\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    var documentReady = function($){\n        // Smooth scroll to inner links\n        var innerLinks = $('a.inner-link');\n\n        if(innerLinks.length){\n            innerLinks.each(function(){\n                var link = $(this);\n                var href = link.attr('href');\n                if(href.charAt(0) !== \"#\"){\n                    link.removeClass('inner-link');\n                }\n            });\n\n            var offset = 0;\n            if($('body[data-smooth-scroll-offset]').length){\n                offset = $('body').attr('data-smooth-scroll-offset');\n                offset = offset*1;\n            }\n            \n            smoothScroll.init({\n                selector: '.inner-link',\n                selectorHeader: null,\n                speed: 750,\n                easing: 'easeInOutCubic',\n                offset: offset\n            });\n        }\n    };\n\n    mr.smoothscroll = {\n        documentReady : documentReady        \n    };\n\n    mr.components.documentReady.push(documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Tabs\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    var documentReady = function($){\r\n        $('.tabs').each(function(){\r\n            var tabs = $(this);\r\n            tabs.after('<ul class=\"tabs-content\">');\r\n            tabs.find('li').each(function(){\r\n                var currentTab = $(this);\r\n                var tabContent = currentTab.find('.tab__content').wrap('<li></li>').parent();\r\n                var tabContentClone = tabContent.clone(true,true);\r\n                tabContent.remove();\r\n                currentTab.closest('.tabs-container').find('.tabs-content').append(tabContentClone);\r\n            });\r\n        });\r\n        \r\n        $('.tabs li').on('click', function(){\r\n            var clickedTab = $(this);\r\n            var tabContainer = clickedTab.closest('.tabs-container');\r\n            var activeIndex = (clickedTab.index()*1)+(1);\r\n            \r\n            tabContainer.find('> .tabs > li').removeClass('active');\r\n            tabContainer.find('> .tabs-content > li').removeClass('active');\r\n            \r\n            clickedTab.addClass('active');\r\n            tabContainer.find('> .tabs-content > li:nth-of-type('+activeIndex+')').addClass('active');\r\n        });\r\n        \r\n        $('.tabs li.active').trigger('click');\r\n    };\r\n\r\n    mr.tabs = {\r\n        documentReady : documentReady        \r\n    };\r\n\r\n    mr.components.documentReady.push(documentReady);\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Toggle Class\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    var documentReady = function($){\r\n        $('[data-toggle-class]').each(function(){\r\n        \tvar candidate     = $(this),\r\n        \t\tdata          = candidate.attr('data-toggle-class'),\r\n        \t\tdataArray     = [],\r\n        \t\ttoggleClass   = '',\r\n        \t\ttoggleElement = '';\r\n        \tdataArray = data.split(\";\");\r\n\r\n        \tif(dataArray.length === 2){\r\n        \t\ttoggleElement = dataArray[0];\r\n        \t\ttoggleClass   = dataArray[1];\r\n        \t\t$(candidate).on('click',function(){\r\n                    candidate.toggleClass('toggled-class');\r\n        \t\t\t$(toggleElement).toggleClass(toggleClass);\r\n        \t\t\treturn false;\r\n        \t\t});\r\n        \t}else{\r\n        \t\tconsole.log('Error in [data-toggle-class] attribute. This attribute accepts an element, or comma separated elements terminated witha \";\" followed by a class name to toggle');\r\n        \t}\r\n        });\r\n    };\r\n\r\n    mr.toggleClass = {\r\n        documentReady : documentReady        \r\n    };\r\n\r\n    mr.components.documentReady.push(documentReady);\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Typed Headline Effect\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    var documentReady = function($){\r\n        $('.typed-text').each(function(){\r\n            var text = $(this);\r\n            var strings = text.attr(\"data-typed-strings\") ? text.attr(\"data-typed-strings\").split(\",\") : [];\r\n            $(text).typed({\r\n                strings: strings,\r\n                typeSpeed: 100,\r\n                loop: true,\r\n                showCursor: false\r\n            });\r\n        });\r\n    };\r\n\r\n    mr.typed = {\r\n        documentReady : documentReady        \r\n    };\r\n\r\n    mr.components.documentReady.push(documentReady);\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Twitter Feeds\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n    var documentReady = function($){\r\n        $('.tweets-feed').each(function(index) {\r\n            $(this).attr('id', 'tweets-' + index);\r\n        }).each(function(index) {\r\n            var element = $('#tweets-' + index);\r\n            var TweetConfig = {\r\n               \"domId\": '',\r\n               \"maxTweets\": element.attr('data-amount'),\r\n               \"enableLinks\": true,\r\n               \"showUser\": true,\r\n               \"showTime\": true,\r\n               \"dateFunction\": '',\r\n               \"showRetweet\": false,\r\n               \"customCallback\": handleTweets\r\n            };\r\n\r\n            if(typeof element.attr('data-widget-id') !== typeof undefined){\r\n                TweetConfig.id = element.attr('data-widget-id');\r\n            }else if(typeof element.attr('data-feed-name') !== typeof undefined && element.attr('data-feed-name') !== \"\"){\r\n                TweetConfig.profile = {\"screenName\": element.attr('data-feed-name').replace('@', '')};\r\n            }else{\r\n                TweetConfig.profile = {\"screenName\": 'twitter'};\r\n            }\r\n\r\n            if(element.closest('.twitter-feed--slider').length){\r\n                element.addClass('slider');\r\n            }\r\n\r\n            function handleTweets(tweets) {\r\n                var x = tweets.length;\r\n                var n = 0;\r\n                var html = '<ul class=\"slides\">';\r\n                while (n < x) {\r\n                    html += '<li>' + tweets[n] + '</li>';\r\n                    n++;\r\n                }\r\n                html += '</ul>';\r\n                element.html(html);\r\n                \r\n                // Initialize twitter feed slider\r\n                if(element.closest('.slider').length){\r\n                    mr.sliders.documentReady(mr.setContext());\r\n                     \r\n                    return html;\r\n                }\r\n            }\r\n            twitterFetcher.fetch(TweetConfig);\r\n        });\r\n    };\r\n\r\n    mr.twitter = {\r\n        documentReady : documentReady\r\n    };\r\n\r\n    mr.components.documentReady.push(documentReady);\r\n\r\n    return mr;\r\n\r\n}(mr, jQuery, window, document));\n\n//////////////// Video\r\nmr = (function (mr, $, window, document){\r\n    \"use strict\";\r\n    \r\n\t  var documentReady = function($){\r\n\t      \r\n\t\t\t//////////////// Youtube Background\r\n\r\n\t\t\tif($('.youtube-background').length){\r\n\t\t\t\t$('.youtube-background').each(function(){\r\n\t\t\t\t\tvar player = $(this);\r\n\t\t\t\t\tvar vidURL = $(this).attr('data-video-url');\r\n\t\t\t\t\tvar startAt = $(this).attr('data-start-at');\r\n\t\t\t\t\tplayer.attr('data-property','{videoURL:\"'+vidURL+'\",containment:\"self\",autoPlay:true, mute:true, startAt:'+startAt+', opacity:1}');\r\n\t\t\t\t\tplayer.closest('.videobg').append('<div class=\"loading-indicator\"></div>');\r\n\t\t\t\t\tplayer.YTPlayer();\r\n\t\t\t\t\tplayer.on(\"YTPStart\",function(){\r\n\t\t\t\t  \t\tplayer.closest('.videobg').addClass('video-active');\r\n\t\t\t\t\t});\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif($('.videobg').find('video').length){\r\n\t\t\t\t$('.videobg').find('video').closest('.videobg').addClass('video-active');\r\n\t\t\t} \r\n\r\n\t\t\t//////////////// Video Cover Play Icons\r\n\r\n\t\t\t$('.video-cover').each(function(){\r\n\t\t\t    var videoCover = $(this);\r\n\t\t\t    if(videoCover.find('iframe').length){\r\n\t\t\t        videoCover.find('iframe').attr('data-src', videoCover.find('iframe').attr('src'));\r\n\t\t\t        videoCover.find('iframe').attr('src','');\r\n\t\t\t    }\r\n\t\t\t});\r\n\r\n\t\t\t$('.video-cover .video-play-icon').on(\"click\", function(){\r\n\t\t\t    var playIcon = $(this);\r\n\t\t\t    var videoCover = playIcon.closest('.video-cover');\r\n\t\t\t    if(videoCover.find('video').length){\r\n\t\t\t        var video = videoCover.find('video').get(0);\r\n\t\t\t        videoCover.addClass('reveal-video');\r\n\t\t\t        video.play();\r\n\t\t\t        return false;\r\n\t\t\t    }else if(videoCover.find('iframe').length){\r\n\t\t\t        var iframe = videoCover.find('iframe');\r\n\t\t\t        iframe.attr('src',iframe.attr('data-src'));\r\n\t\t\t        videoCover.addClass('reveal-video');\r\n\t\t\t        return false;\r\n\t\t\t    }\r\n\t\t\t});\r\n\t  };\r\n\r\n\t  mr.video = {\r\n\t      documentReady : documentReady        \r\n\t  };\r\n\r\n\t  mr.components.documentReady.push(documentReady);\r\n\t  return mr;\r\n\r\n}(mr, jQuery, window, document));"]}