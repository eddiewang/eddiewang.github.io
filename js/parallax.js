function mr_parallax(){"use strict";function e(e){for(var t=0;t<e.length;t++)if("undefined"!=typeof document.body.style[e[t]])return e[t];return null}function t(){var e,t=0;return d()?(t=jQuery(".viu").find("nav:first").outerHeight(!0),e=jQuery(".viu").find("nav:first").css("position"),("absolute"===e||"fixed"===e)&&(t=0)):t=jQuery(document).find("nav:first").outerHeight(!0),t}function n(e,t,n,i){var l=e-1;return l/=i,e/=i,l--,e--,n*(e*e*e*e*e+1)+t-(n*(l*l*l*l*l+1)+t)}function i(){if(S){for(var e=u.length,t=o();e--;)l(u[e],t,h,w);S=!1}y&&(P+=-x*n(b,0,D,Q),(P>M||-M>P)&&(_.scrollBy(0,P),P=0),b++,b>Q&&(b=0,y=!1,g=!0,x=0,T=0,E=0,P=0)),m(i)}function l(e,t,n,i){var l=d();l?t+v-p>e.elemTop&&t-p<e.elemBottom?(e.visible||(e.section.style.visibility="visible",e.visible=!0),e.isFirstSection?e.imageHolder.style[f]=n+t/2+i:e.imageHolder.style[f]=n+(t-e.elemTop-p)/2+i):e.visible&&(e.section.style.visibility="hidden",e.visible=!1):t+v>e.elemTop&&t<e.elemBottom?(e.visible||(e.section.style.visibility="visible",e.visible=!0),e.isFirstSection?e.imageHolder.style[f]=n+t/2+i:e.imageHolder.style[f]=n+(t+v-e.elemTop)/2+i):e.visible&&(e.section.style.visibility="hidden",e.visible=!1)}function o(){return _!=window?_.scrollTop:0===document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function r(){S=!0}function a(e){k.mr_scrollAssist===!0&&e.deltaX==-0&&e.preventDefault&&e.preventDefault(),x=e.notRealWheel?-e.deltaY/4:1==e.deltaMode?-e.deltaY/3:100===Math.abs(e.deltaY)?-e.deltaY/120:-e.deltaY/40,x=-H>x?-H:x,x=x>H?H:x,y=!0,b=j}function s(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function d(){return"undefined"!=typeof window.mr_variant}var u,m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,c=["transform","msTransform","webkitTransform","mozTransform","oTransform"],f=e(c),h="translate3d(0,",w="px,0)",v=Math.max(document.documentElement.clientHeight,window.innerHeight||0),p=0,y=!1,g=!0,b=0,x=0,T=0,E=0,H=2.2,j=2,D=350,M=1,Q=35,P=0,_=window,S=(d(),!1),k=this;this.mr_scrollAssist=!!$("body").hasClass("scroll-assist"),jQuery(document).ready(function(){k.documentReady()}),jQuery(window).load(function(){k.windowLoad()}),this.getScrollingState=function(){return b>0},this.documentReady=function(e){return v=Math.max(document.documentElement.clientHeight,window.innerHeight||0),jQuery("body").hasClass("parallax-2d")&&(h="translate(0,",w="px)"),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?jQuery(".parallax").removeClass("parallax"):m&&(k.profileParallaxElements(),k.setupParallax()),s(e)?void e():void 0},this.windowLoad=function(){v=Math.max(document.documentElement.clientHeight,window.innerHeight||0),p=t(),window.mr_parallax.profileParallaxElements()},this.setupParallax=function(){d()&&(_=jQuery(".viu").get(0),"undefined"!=typeof _&&(_.scrollBy=function(e,t){this.scrollTop+=t,this.scrollLeft+=e})),"undefined"!=typeof _&&(_.addEventListener("scroll",r,!1),window.addWheelListener(_,a,!1),window.addEventListener("resize",function(){v=Math.max(document.documentElement.clientHeight,window.innerHeight||0),p=t(),k.profileParallaxElements()},!1),i())},this.profileParallaxElements=function(){u=[],p=t();var e=d(),n=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder, .parallax ul.slides .owl-item > li > .background-image-holder";e&&(n=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder, .parallax ul.slides .owl-item > li > .background-image-holder"),jQuery(n).each(function(t){var n=jQuery(this).closest(".parallax"),i=e?n.position().top:n.offset().top;u.push({section:n.get(0),outerHeight:n.outerHeight(),elemTop:i,elemBottom:i+n.outerHeight(),isFirstSection:!!n.is(":nth-of-type(1)"),imageHolder:jQuery(this).get(0),visible:!0}),e?e&&(n.is(":nth-of-type(1)")?k.mr_setTranslate3DTransform(jQuery(this).get(0),0===o()?0:o()/2):k.mr_setTranslate3DTransform(jQuery(this).get(0),(o()-i-p)/2)):n.is(":nth-of-type(1)")?k.mr_setTranslate3DTransform(jQuery(this).get(0),0===o()?0:o()/2):k.mr_setTranslate3DTransform(jQuery(this).get(0),(o()+v-i)/2)})},this.mr_setTranslate3DTransform=function(e,t){e.style[f]=h+t+w}}window.mr_parallax=new mr_parallax,function(e,t){function n(t,n,r,a){t[i](o+n,"wheel"==l?r:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==l?(n.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-.025*t.wheelDeltaX)):n.deltaY=t.detail/3,r(n)},a||!1)}var i,l,o="";e.addEventListener?i="addEventListener":(i="attachEvent",o="on"),l="onwheel"in t.createElement("div")?"wheel":"undefined"!=typeof t.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,t,i){n(e,l,t,i),"DOMMouseScroll"==l&&n(e,"MozMousePixelScroll",t,i)}}(window,document);
//# sourceMappingURL=parallax.js.map
